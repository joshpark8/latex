% preamble.tex
% \ProvidesPackage{preamble}

% http://www.mit.edu/~lindrew/

% >>==========|| Document setup ||==========<<
\usepackage[utf8]{inputenc}         % UTF-8 encoding
\usepackage[T1]{fontenc}            % Improved font encoding
\usepackage[english]{babel}         % Language settings
\usepackage[margin=1in]{geometry}   % Page layout with 1-inch margins

\usepackage{fancyhdr}   % Custom headers/footers
\pagestyle{fancy}       % Enable fancy headers
\lhead{\leftmark}       % Left header: section name
\rhead{\thepage}        % Right header: page number
\setlength{\headheight}{25pt}
% \addtolength{\topmargin}{-10.50113pt}

\usepackage{enumitem}   % Better control of lists (e.g., itemize, enumerate)
\usepackage{parskip}    % Remove paragraph indents and add spacing between paragraphs
\usepackage{mdframed}   % Create custom framed environments
\usepackage{microtype}  % Adjusts spacing for better readability

% >>==========|| Math packages ||==========<<
\usepackage{amsmath}     % Advanced math environments (align, gather, etc.)
\usepackage{amsthm}      % Theorem-like environments
\usepackage{amssymb}     % Additional math symbols (\mathbb, arrows, etc.)
\usepackage{amsfonts}    % Blackboard bold and Fraktur fonts
\usepackage{thmtools}    % Enhanced theorem customization
\makeatletter
\renewcommand\thempfootnote{\arabic{mpfootnote}}
\makeatother
\usepackage{systeme}     % Simplifies writing systems of equations
% \usepackage{mathtools} % Extends amsmath with extra features
% \usepackage{stmaryrd}  % Specialized symbols for CS

% >>==========|| Graphics and diagrams ||==========<<
\usepackage{graphicx}   % Include images with \includegraphics
\usepackage{tikz}       % Create diagrams, plots, and drawings
\usepackage{tikz-cd}    % Specialized diagrams (e.g., commutative diagrams)
\usepackage{float}

% >>==========|| Fonts and text ||==========<<
\usepackage[varqu,varl]{inconsolata} % Monospaced font for code (CS 390ATA)
\usepackage{xcolor}                  % Add colors for text and links
\usepackage{hyperref}                % Create hyperlinks
\hypersetup{colorlinks=true, allcolors=blue} % Links in blue

% >>==========|| Code listings and syntax ||==========<<
\usepackage[numbered,framed]{matlab-prettifier} % MATLAB code formatting
\usepackage{listings}                           % Code listings (general-purpose)
% \usepackage{fancyvrb}                           % robust verbatim

% >>==========|| Miscellaneous packages ||==========<<
\usepackage{silence}  % Suppress specific warnings
\WarningFilter{mdframed}{You got a bad break}

% >>==========|| Commented-out or optional packages ||==========<<
% These are disabled by default but can be enabled as needed.
% \usepackage{multicol}      % Multiple columns in a document
% \usepackage{xparse}        % Create custom commands
% \usepackage{centernot}     % Centered negation for arrows (\centernot\rightarrow)
% \usepackage{bbm}           % Alternative blackboard bold (\mathbbm)
% \usepackage{esvect}        % Vector arrows (\vv)
% \usepackage{etoolbox}      % Advanced LaTeX macros and tools

% \setlength{\parskip}{1em}

% >>==========|| Additional options ||==========<<

\mdfsetup{skipabove=1em,skipbelow=0em} %puts space before and after

\mdfsetup{
	linewidth = 0.3mm,
	innertopmargin = 2mm,
	innerbottommargin = 3.5mm,
	innerleftmargin = 3mm,
	innerrightmargin = 3mm
} % adjusts boundaries of boxes

\newcommand{\thmboxstyle}[4]{
	\mdfdefinestyle{#2}{
		linecolor = #3,
		backgroundcolor = #4,
		nobreak = true
	}
	\declaretheoremstyle[
		headfont = \bfseries\color{#3},
		mdframed = {style = #2},
		headpunct = {.},
		postheadspace = {5pt},
	]{#1}
}

% >>==========|| Nested itemize ||==========<<

\setlistdepth{10}  % Increase itemize nesting depth

\setlist[itemize,1]{label=•}
\setlist[itemize,2]{label=-}
\setlist[itemize,3]{label=\raisebox{-.5ex}{*}}
\setlist[itemize,4]{label=•}
\setlist[itemize,5]{label=-}

% >>==========|| Theorem boxes ||==========<<

\definecolor{oran}{HTML}{877AC6}
\definecolor{redd}{rgb}{0.6,0,0}

\thmboxstyle{defbox}{mdgreenbox}{green!70!black}{green!10!white}    % green; definition box
\thmboxstyle{thmbox}{mdredbox}{redd}{blue!30!red!10}                % red; theorem box
\thmboxstyle{exbox}{mdbluebox}{blue!110!red!66!green!66}{blue!5}    % cyan; example box
\thmboxstyle{ntbox}{mdorangebox}{orange!50!brown}{yellow!5!olive!5} % orange; note box
\thmboxstyle{exrbox}{mdpurplebox}{pink!70!red}{pink!10!white}       % purple; exercise box

\declaretheorem[style = thmbox, name = Theorem, numberwithin = section]{theorem}
\declaretheorem[style = thmbox, name = Lemma, numberwithin = section]{lemma}
\declaretheorem[style = thmbox, name = Proposition, numberwithin = section]{proposition}
\declaretheorem[style = thmbox, name = Corollary, numberwithin = theorem]{corollary}
\declaretheorem[style = thmbox, name = Conjecture, numberwithin = section]{conjecture}
\declaretheorem[style = thmbox, name = Algorithm, numberwithin = section]{algorithm}

\declaretheorem[style = thmbox, name = Theorem, numbered = no]{theorem*}
\declaretheorem[style = thmbox, name = Lemma, numbered = no]{lemma*}
\declaretheorem[style = thmbox, name = Proposition, numbered = no]{proposition*}
\declaretheorem[style = thmbox, name = Corollary, numbered = no]{corollary*}
\declaretheorem[style = thmbox, name = Conjecture, numbered = no]{conjecture*}
\declaretheorem[style = thmbox, name = Algorithm, numbered = no]{algorithm*}

\declaretheorem[style = defbox, name = Definition, numberwithin = section]{definition}
\declaretheorem[style = defbox, name = Definition, numbered = no]{definition*}

\declaretheorem[style = exbox, name = Example, numberwithin = section]{example}
\declaretheorem[style = exbox, name = Example, numbered = no]{example*}
\declaretheorem[style = exbox, name = Non-Example, numberwithin = section]{nonexample}
\declaretheorem[style = exbox, name = Non-Example, numbered = no]{nonexample*}

\declaretheorem[style = exbox, name = Examples, numbered = no]{examples}
\declaretheorem[style = exbox, name = Non-Examples, numbered = no]{nonexamples}

\declaretheorem[style = ntbox, name = Remark, numbered = no]{remark}
\declaretheorem[style = ntbox, name = Fact, numbered = no]{fact}
\declaretheorem[style = ntbox, name = Note, numbered = no]{note}

\declaretheorem[style = plain, name = Question, numbered = no]{ques}
\declaretheorem[style = plain, name = Answer, numbered = no]{ans}
\declaretheorem[style = ntbox, name = Problem, numberwithin = section]{problem}
\declaretheorem[style = ntbox, name = Problem, numbered = no]{problem*}
\declaretheorem[style = ntbox, name = Resources, numbered = no]{resources}
\declaretheorem[style = ntbox, name = Warning, numbered = no]{warning}
\declaretheorem[style = exrbox, name = Exercise, numberwithin = section]{exercise}
\declaretheorem[style = exrbox, name = Exercise, numberwithin = exercise]{subexercise}
\declaretheorem[style = exrbox, name = Prompt, numberwithin = section]{prompt}

% \declaretheorem[style = plain, name = Student Question, numbered = no]{question}
\declaretheorem[style = plain, name = Question, numbered = no]{question*}

\declaretheorem[style = plain, name = Claim]{claim}
\declaretheorem[style = plain, name = Claim, numbered = no]{claim*}

\def\todo#1{\relax}


% Homework solution environment
\newenvironment{solution}
  {\color{black}\begin{proof}[Solution]}
  {\end{proof}\color{black}}

% Adjusts space before and after subsections
\usepackage{titlesec}
\titlespacing*{\subsection}{0pt}{3.5ex plus 1ex minus .2ex}{3.5ex plus .2ex}


% >>==========|| CS 390ATA Advanced Topics on Algorithms ||==========<<
% Custom colors
\definecolor{commentgreen}{HTML}{119F57}

% Nested enumerate environment
\newlist{steps}{enumerate}{9}
\setlist[steps]{before=\upshape\normalfont,font=\ttfamily} %
\setlist[steps,1]{leftmargin=*,labelsep=1ex,label={\arabic*.},ref={\arabic*}} %
\setlist[steps,2]{leftmargin=*,labelsep=1ex,label={\Alph*.},ref={\thestepsi.\Alph*}} %
\setlist[steps,3]{leftmargin=*,labelsep=1ex,label={\arabic*.},
  ref={\thestepsii.\arabic*}} %
\setlist[steps,4]{leftmargin=*,labelsep=1ex,label={\alph*.},
  ref={\thestepsiii.\alph*}} %
\setlist[steps,5]{leftmargin=*,labelsep=1ex,label={\arabic*.},
  ref={\thestepsiv.\arabic*}} %
\setlist[steps,6]{leftmargin=*,labelsep=1ex,label={\Alph*.},
  ref={\thestepsv.\Alph*}} %
\setlist[steps,7]{leftmargin=*,labelsep=1ex,label={\arabic*.},
  ref={\thestepsvi.\roman*}} %
\setlist[steps,8]{leftmargin=*,labelsep=1ex,label={\alph*.},
  ref={\thestepsvii.\alph*}} %
\setlist[steps,9]{leftmargin=*,labelsep=1ex,label={\arabic*.},
  ref={\thestepsviii.\arabic*}} %
\newlist{stepitems}{itemize}{1} % For when I want to put an itemized list inside the code.
\setlist[stepitems]{before=\upshape\ttfamily,label=*,leftmargin=*,labelsep=1ex}%
